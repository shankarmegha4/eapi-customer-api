{
  "stats": {
    "suites": 4,
    "tests": 13,
    "passes": 13,
    "pending": 0,
    "failures": 0,
    "start": "2021-02-18T11:34:23.351Z",
    "end": "2021-02-18T11:34:23.506Z",
    "duration": 155,
    "testsRegistered": 13,
    "passPercent": 100,
    "pendingPercent": 0,
    "other": 1,
    "hasOther": true,
    "skipped": 0,
    "hasSkipped": false,
    "passPercentClass": "success",
    "pendingPercentClass": "danger"
  },
  "suites": {
    "uuid": "687c70b5-ab6a-443f-8cbe-f9cd0485fcb8",
    "title": "",
    "fullFile": "",
    "file": "",
    "beforeHooks": [],
    "afterHooks": [],
    "tests": [],
    "suites": [
      {
        "uuid": "041b87b1-2d84-4070-a6ae-4fc88fcefa11",
        "title": "/GET ping service",
        "fullFile": "C:\\NodeJs-projects\\Task\\eapi-customer-rest\\test\\unit\\test.js",
        "file": "\\test\\unit\\test.js",
        "beforeHooks": [],
        "afterHooks": [],
        "tests": [
          {
            "title": "it should GET ping status message",
            "fullTitle": "/GET ping service it should GET ping status message",
            "timedOut": false,
            "duration": 29,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "chai.request(url)\n\t.get('/v1/pharmacy/patient/ping')\n\t.end((err, res) => {\n\t\tres.should.have.status(200);\n\t\tres.body.status.should.equal('ok');\n\t\tres.body.apiname.should.equal('eapi-customer-rest');\n\t\tres.body.apiversion.should.equal('v1_0_0');\n\t\tdone();\n\t});",
            "err": {},
            "isRoot": false,
            "uuid": "b93ee661-53dd-4350-9254-68dabc18a6c7",
            "isHook": false,
            "skipped": false
          }
        ],
        "suites": [],
        "passes": [
          "b93ee661-53dd-4350-9254-68dabc18a6c7"
        ],
        "failures": [],
        "pending": [],
        "skipped": [],
        "duration": 29,
        "root": false,
        "rootEmpty": false,
        "_timeout": 10000
      },
      {
        "uuid": "b5a5fac8-c9fa-4d8d-9a51-20961ba0fe8a",
        "title": "Test Info/Debug/Error Message Logging",
        "fullFile": "C:\\NodeJs-projects\\Task\\eapi-customer-rest\\test\\unit\\test.js",
        "file": "\\test\\unit\\test.js",
        "beforeHooks": [],
        "afterHooks": [],
        "tests": [
          {
            "title": "it should log info message",
            "fullTitle": "Test Info/Debug/Error Message Logging it should log info message",
            "timedOut": false,
            "duration": 4,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "logging.logInfo(\"SampleAplicationName\",101,1001,1,\"GET\",\"200\",\"Success\",\"TestInfoLog\",\"100ms\",null,null);\ndone();",
            "err": {},
            "isRoot": false,
            "uuid": "219deec3-f8cf-410e-9b19-7ea83920dd56",
            "isHook": false,
            "skipped": false
          },
          {
            "title": "it should log info message",
            "fullTitle": "Test Info/Debug/Error Message Logging it should log info message",
            "timedOut": false,
            "duration": 1,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "logging.logInfo(null,102,1002,1,\"GET\",\"200\",\"Success\",\"TestInfoLog\",\"100ms\",null,null);\ndone();",
            "err": {},
            "isRoot": false,
            "uuid": "d38734db-32f1-471d-bf1e-fca4f47e4df4",
            "isHook": false,
            "skipped": false
          },
          {
            "title": "it should log Debug message",
            "fullTitle": "Test Info/Debug/Error Message Logging it should log Debug message",
            "timedOut": false,
            "duration": 0,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "logging.logDebug(\"SampleAplicationName\",103,1003,2,\"GET\",\"200\",\"Success\",\"TestDebugLog\",\"150ms\",null,null);\ndone();",
            "err": {},
            "isRoot": false,
            "uuid": "55994065-b5bc-45fb-8a7d-e506fc864c92",
            "isHook": false,
            "skipped": false
          },
          {
            "title": "it should log Debug message",
            "fullTitle": "Test Info/Debug/Error Message Logging it should log Debug message",
            "timedOut": false,
            "duration": 0,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "logging.logDebug(null,104,1004,2,\"GET\",\"200\",\"Success\",\"TestDebugLog\",\"150ms\",null,null);\ndone();",
            "err": {},
            "isRoot": false,
            "uuid": "3c730147-ce67-44c1-aa67-c13b3c353b63",
            "isHook": false,
            "skipped": false
          },
          {
            "title": "it should log error message",
            "fullTitle": "Test Info/Debug/Error Message Logging it should log error message",
            "timedOut": false,
            "duration": 1,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "let error = new Error(\"Internal Error\")\nlogging.logError(\"SampleAplicationName\",105,1005,3,\"GET\",\"500\",\"Failure\",\"Error Occured %s\", \"50ms\",\"KFK-ERR-001\",\"Error accessing input topic\",error);\ndone();",
            "err": {},
            "isRoot": false,
            "uuid": "aebde2a1-b7e7-4ad2-86dd-9bd6e15106dc",
            "isHook": false,
            "skipped": false
          },
          {
            "title": "it should log error message",
            "fullTitle": "Test Info/Debug/Error Message Logging it should log error message",
            "timedOut": false,
            "duration": 1,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "let error = new Error(\"Internal Error\")\nlogging.logError(null,106,1006,3,\"GET\",\"500\",\"Failure\",\"Error Occured %s\", \"50ms\",\"KFK-ERR-001\",\"Error accessing input topic\",error);\ndone();",
            "err": {},
            "isRoot": false,
            "uuid": "7e3197d5-8782-4156-96f1-0f665d4c5491",
            "isHook": false,
            "skipped": false
          }
        ],
        "suites": [],
        "passes": [
          "219deec3-f8cf-410e-9b19-7ea83920dd56",
          "d38734db-32f1-471d-bf1e-fca4f47e4df4",
          "55994065-b5bc-45fb-8a7d-e506fc864c92",
          "3c730147-ce67-44c1-aa67-c13b3c353b63",
          "aebde2a1-b7e7-4ad2-86dd-9bd6e15106dc",
          "7e3197d5-8782-4156-96f1-0f665d4c5491"
        ],
        "failures": [],
        "pending": [],
        "skipped": [],
        "duration": 7,
        "root": false,
        "rootEmpty": false,
        "_timeout": 10000
      },
      {
        "uuid": "80dd81fc-9398-4b2d-9818-99b238364d55",
        "title": "POST /v1/pharmacy/patient/",
        "fullFile": "C:\\NodeJs-projects\\Task\\eapi-customer-rest\\test\\unit\\test.js",
        "file": "\\test\\unit\\test.js",
        "beforeHooks": [
          {
            "title": "\"before all\" hook",
            "fullTitle": "POST /v1/pharmacy/patient/ \"before all\" hook",
            "timedOut": false,
            "duration": 7,
            "pass": false,
            "fail": false,
            "pending": false,
            "code": "var dbo = global.db.db(\"eapi_data\");\n\n\t\t/**Test Obj Creation */\n\t\tvar patientTestDoc = {\n\n\t\t\tpatientId: \"TXTX001\",\n\t\t\tfirstName: \"NAME001\" ,\n\t\t\taddressLine1:\"ADRESLINE1\",\n\t\t\tcity:\"CITY001\",\n\t\t\tzipCode:\"ZIP001\",\n\t\t\tstate:\"STATE001\",\n\t\t\tcardType:\"CARDTYPE001\",\n\t\t\tcreditCard:\"CRD001\",\n\t\t\tlastFourDigits:\"0000\",\n\t\t\texpiryMonth:\"12\",\n\t\t\texpiryYear:\"1111\",\n\t\t\tisDefault:true\n\t\t};\n\n\t\t// eslint-disable-next-line no-unused-vars\n\t\tdbo.collection(\"tbf0_patient\").insertOne(patientTestDoc, function(err,res) {\n\t\t\tif (err) throw err;\n\t\t});\n\t\tdone();",
            "err": {},
            "isRoot": false,
            "uuid": "bce43bc7-5b8d-4006-a052-d50cb46352ed",
            "isHook": true,
            "skipped": false
          }
        ],
        "afterHooks": [
          {
            "title": "\"after all\" hook",
            "fullTitle": "POST /v1/pharmacy/patient/ \"after all\" hook",
            "timedOut": false,
            "duration": 1,
            "pass": false,
            "fail": false,
            "pending": false,
            "code": "var dbo = global.db.db(\"eapi_data\");\n\t\tvar deleteQuery = { patientId: 'TXTX001' };\n\t\t// eslint-disable-next-line no-unused-vars\n\t\tdbo.collection(\"tbf0_patient\").deleteOne(deleteQuery, function(err,res) {\n\t\t\tif (err) throw err;\n\t\t});\n\t\tdone();",
            "err": {},
            "isRoot": false,
            "uuid": "69ec492d-6bb6-4e30-bb36-f3195a203339",
            "isHook": true,
            "skipped": false
          }
        ],
        "tests": [
          {
            "title": "it should get patient info",
            "fullTitle": "POST /v1/pharmacy/patient/ it should get patient info",
            "timedOut": false,
            "duration": 32,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "chai.request(server)\n\t\t.post(\"/v1/pharmacy/patient?patientId=TXTX001\")\n\t\t.set(\"Authorization\",\"001\")\n\t\t.end((err,response)=>{\n\t\t\t\n\t\t\tresponse.should.have.status(200);\n\t\t\tresponse.body.should.be.a('object');\n\t\t\t\n\t\t\tresponse.body.should.have.property('patientId').eq(\"TXTX001\");\n\t\t\tresponse.body.should.have.property('customerShippingAddress');\n\t\t\tresponse.body.customerShippingAddress.should.have.property('addressLine1').eq(\"ADRESLINE1\");\n\t\t\tresponse.body.profilePaymentDetails[0].should.have.property('cardType').eq(\"CARDTYPE001\");\n\t\t\tdone();\n\t\t});",
            "err": {},
            "isRoot": false,
            "uuid": "8e50dfd7-6856-4346-8d01-dd63e5dde885",
            "isHook": false,
            "skipped": false
          },
          {
            "title": "it should return 404 when no matching records",
            "fullTitle": "POST /v1/pharmacy/patient/ it should return 404 when no matching records",
            "timedOut": false,
            "duration": 9,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "chai.request(server)\n\t\t.post(\"/v1/pharmacy/patient?patientId=TXTX001001\")\n\t\t.set(\"Authorization\",\"001\")\n\t\t.end((err,response)=>{\n\t\t\n\t\t\tresponse.should.have.status(404);\n\t\t\tresponse.body.should.be.a('object');\n\t\t\tresponse.body.should.have.property('messages');\n\t\t\tresponse.body.messages[0].should.have.property('code').eq('WAG_E_SEARCH_1000');\n\t\t\tresponse.body.messages[0].should.have.property('type').eq('ERROR');\n\t\t\tdone();\n\t\t});",
            "err": {},
            "isRoot": false,
            "uuid": "16b7e038-e5af-474f-85e4-1963d19554f5",
            "isHook": false,
            "skipped": false
          },
          {
            "title": "it should return 405 when invalid method call",
            "fullTitle": "POST /v1/pharmacy/patient/ it should return 405 when invalid method call",
            "timedOut": false,
            "duration": 6,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "chai.request(server)\n\t\t.get(\"/v1/pharmacy/patient?patientId=TXTX001\")\n\t\t.set(\"Authorization\",\"001\")\n\t\t.end((err,response)=>{\n\t\t\tresponse.should.have.status(405);\n\t\t\tresponse.body.should.be.a('object');\n\t\t\tresponse.body.should.have.property('messages');\n\t\t\tresponse.body.messages[0].should.have.property('code').eq('WAG_E_INVALID_METHOD_1001');\n\t\t\tresponse.body.messages[0].should.have.property('type').eq('ERROR');\n\t\t\tdone();\n\t\t});",
            "err": {},
            "isRoot": false,
            "uuid": "9a5d0e1b-b1c1-446d-bb46-7ef7e25e0658",
            "isHook": false,
            "skipped": false
          },
          {
            "title": "it should return 401 if not authenticated",
            "fullTitle": "POST /v1/pharmacy/patient/ it should return 401 if not authenticated",
            "timedOut": false,
            "duration": 7,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "chai.request(server)\n\t\t.post(\"/v1/pharmacy/patient?patientId=TXTX001\")\n\t\t.end((err,response)=>{\n\t\t\tresponse.should.have.status(401);\n\t\t\tresponse.body.should.be.a('object');\n\t\t\tresponse.body.should.have.property('messages');\n\t\t\tresponse.body.messages[0].should.have.property('code').eq('WAG_E_UNAUTHORIZED_REQUEST_1001');\n\t\t\tresponse.body.messages[0].should.have.property('type').eq('ERROR');\n\t\t\tdone();\n\t\t});",
            "err": {},
            "isRoot": false,
            "uuid": "d36b6ff9-bc47-4433-b218-bc0c0b1c27d3",
            "isHook": false,
            "skipped": false
          },
          {
            "title": "it should return 400 when request have missing patientId",
            "fullTitle": "POST /v1/pharmacy/patient/ it should return 400 when request have missing patientId",
            "timedOut": false,
            "duration": 8,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "chai.request(server)\n\t\t.post(\"/v1/pharmacy/patient\")\n\t\t.end((err,response)=>{\n\t\t\tresponse.should.have.status(400);\n\t\t\tresponse.body.should.be.a('object');\n\t\t\tresponse.body.should.have.property('messages');\n\t\t\tresponse.body.messages[0].should.have.property('code').eq('WAG_E_INVALID_REQUEST_1001');\n\t\t\tresponse.body.messages[0].should.have.property('type').eq('ERROR');\n\t\t\tdone();\n\t\t});",
            "err": {},
            "isRoot": false,
            "uuid": "dc213aaa-6af9-4a86-942f-9a42146464c7",
            "isHook": false,
            "skipped": false
          }
        ],
        "suites": [
          {
            "uuid": "d50196b3-4c78-4e1c-8b9f-02421ed411df",
            "title": "Test DB Conectivity",
            "fullFile": "C:\\NodeJs-projects\\Task\\eapi-customer-rest\\test\\unit\\test.js",
            "file": "\\test\\unit\\test.js",
            "beforeHooks": [
              {
                "title": "\"before all\" hook",
                "fullTitle": "POST /v1/pharmacy/patient/ Test DB Conectivity \"before all\" hook",
                "timedOut": false,
                "duration": 0,
                "pass": false,
                "fail": false,
                "pending": false,
                "code": "dbconnection=global.db;\n\t\t\tglobal.db=undefined;//mocking db- connection as 'undefined'\n\t\t\tdone();",
                "err": {},
                "isRoot": false,
                "uuid": "b88d347e-6267-49ea-9147-928632ffed82",
                "isHook": true,
                "skipped": false
              }
            ],
            "afterHooks": [
              {
                "title": "\"after all\" hook",
                "fullTitle": "POST /v1/pharmacy/patient/ Test DB Conectivity \"after all\" hook",
                "timedOut": false,
                "duration": 0,
                "pass": false,
                "fail": false,
                "pending": false,
                "code": "global.db=dbconnection; //resetting db connection back.\n\t\t\tdone();",
                "err": {},
                "isRoot": false,
                "uuid": "3673ff8a-abe6-405d-a306-aa06490e3090",
                "isHook": true,
                "skipped": false
              }
            ],
            "tests": [
              {
                "title": "it should return 503 when db is down",
                "fullTitle": "POST /v1/pharmacy/patient/ Test DB Conectivity it should return 503 when db is down",
                "timedOut": false,
                "duration": 5,
                "state": "passed",
                "speed": "fast",
                "pass": true,
                "fail": false,
                "pending": false,
                "code": "chai.request(server)\n.post(\"/v1/pharmacy/patient?patientId=TXTX001\")\n.set(\"Authorization\",\"001\")\n.end((err,response)=>{\n\t\n\tresponse.should.have.status(503);\n\tresponse.body.should.be.a('object');\n\tresponse.body.should.have.property('messages');\n\tresponse.body.messages[0].should.have.property('code');\n\tresponse.body.messages[0].should.have.property('type');\n\tdone();\n});",
                "err": {},
                "isRoot": false,
                "uuid": "edab206b-fda1-4850-8f33-f8d4c28e7826",
                "isHook": false,
                "skipped": false
              }
            ],
            "suites": [],
            "passes": [
              "edab206b-fda1-4850-8f33-f8d4c28e7826"
            ],
            "failures": [],
            "pending": [],
            "skipped": [],
            "duration": 5,
            "root": false,
            "rootEmpty": false,
            "_timeout": 10000
          }
        ],
        "passes": [
          "8e50dfd7-6856-4346-8d01-dd63e5dde885",
          "16b7e038-e5af-474f-85e4-1963d19554f5",
          "9a5d0e1b-b1c1-446d-bb46-7ef7e25e0658",
          "d36b6ff9-bc47-4433-b218-bc0c0b1c27d3",
          "dc213aaa-6af9-4a86-942f-9a42146464c7"
        ],
        "failures": [],
        "pending": [],
        "skipped": [],
        "duration": 62,
        "root": false,
        "rootEmpty": false,
        "_timeout": 10000
      }
    ],
    "passes": [],
    "failures": [],
    "pending": [],
    "skipped": [],
    "duration": 0,
    "root": true,
    "rootEmpty": true,
    "_timeout": 10000
  },
  "copyrightYear": 2021
}